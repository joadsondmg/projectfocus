"use strict";(self.webpackChunkprojectfocus=self.webpackChunkprojectfocus||[]).push([[383],{6383:(f,l,r)=>{r.r(l),r.d(l,{ExameModule:()=>b});var m=r(6814),c=r(9310),o=r(4946),u=r(3621);const g=[{path:"",component:(()=>{class s{constructor(e,t){this.route=e,this.data=t,this.currentHeight=0,this.currentWidth=0,this.totalObjects=60,this.countObjects=0,this.currentObject="",this.responseText="",this.responseImage="",this.validate=!0,this.resultResponse=0,this.actionHit=0,this.omissionHit=0,this.omissionError=0,this.actionError=0,this.objectDataExam={resultResponse:0,omissionHit:0,actionHit:0,omissionError:0,actionError:0,time:"",date:""},this.currentDate=new Date,this.day=this.currentDate.getDate().toString().padStart(2,"0"),this.month=(this.currentDate.getMonth()+1).toString().padStart(2,"0"),this.year=this.currentDate.getFullYear(),this.hour=this.currentDate.getHours().toString().padStart(2,"0"),this.minutes=this.currentDate.getMinutes().toString().padStart(2,"0"),this.todayDate=this.day+"/"+this.month+"/"+this.year,this.todayTime=this.hour+":"+this.minutes,this.orientation=["rotate(90deg)","rotate(270deg)"],this.fill=["/triangulo_vazado.png","/triangulo.png"],this.resultObject=[{responseText:"Voc\xea est\xe1 liberado para suas atividades!",responseImage:"./assets/colaboradores.png"},{responseText:"Execu\xe7\xe3o incorreta, gentileza procurar seu supervisor!",responseImage:"./assets/supervisor.png"},{responseText:"Execu\xe7\xe3o n\xe3o foi como esperada, gentileza procurar medicina!",responseImage:"./assets/medico.png"},{responseText:"Voc\xea j\xe1 esgotou o n\xfamero de tentativas hoje!",responseImage:"./assets/erro.png"}]}resize(){const e=document.getElementById("stage");window.innerWidth>600?(this.currentWidth=e.clientWidth,this.currentHeight=e.clientHeight):(e.style.height="70%",this.currentHeight=e.clientHeight,this.currentWidth=e.clientWidth)}randomObjectCreate(){var e=document.getElementsByClassName("triangulo"),t=document.getElementById("stage");if(e.length>0&&("triangulo"!=e[0].id?this.objectDataExam.omissionHit++:this.objectDataExam.omissionError++,t?.removeChild(e[0])),this.countObjects<this.totalObjects){let i=Math.floor(Math.random()*this.currentWidth)-90,a=Math.floor(Math.random()*this.currentHeight)-90;i=i<0?0:i,a=a<0?0:a;const n=document.createElement("img"),h=this.orientation[Math.floor(Math.random()*this.orientation.length)],d=this.fill[Math.floor(Math.random()*this.fill.length)];n.src="./assets"+d,n.style.transform=h,d==this.currentObject.fill&&h==this.currentObject.rotate&&(n.id="triangulo"),n.classList.add("triangulo"),n.style.width="50px",n.style.height="50px",n.style.position="relative",n.style.left=i+"px",n.style.top=a+"px",t?.appendChild(n)}this.countObjects++}score(){const e=(this.objectDataExam.actionHit+this.objectDataExam.omissionHit)/this.totalObjects*100;switch(this.objectDataExam.resultResponse=e,this.objectDataExam.date=this.todayDate,this.objectDataExam.time=this.todayTime,!0){case e>=80:this.responseText=this.resultObject[0].responseText,this.responseImage=this.resultObject[0].responseImage;break;case e>=60:this.responseText=this.resultObject[1].responseText,this.responseImage=this.resultObject[1].responseImage;break;default:this.responseText=this.resultObject[2].responseText,this.responseImage=this.resultObject[2].responseImage}const t=document.getElementById("stage");t&&(t.innerHTML=this.currentWidth>600?`<div style="height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; gap: 1rem;">\n       <h2 style="color: white">${this.responseText}</h2>\n       <img style="width: 19rem" src="${this.responseImage}" alt="">\n       <button id='action-btn' style="border: none; padding: 1rem 3.5rem;margin: 0 2rem 2rem 2rem; background-color: var(--aux-purple); border-radius: 0.7rem; font-weight: 600; cursor: pointer; color: var(--default-text-color);" class="action-btn">IN\xcdCIO</button>\n    </div>`:`<div style="height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; gap: 1rem;">\n       <h3 style="color: white; text-align: center">${this.responseText}</h3>\n       <img style="width: 15rem" src="${this.responseImage}" alt="">\n       <button id='action-btn' style="border: none; padding: 1rem 3.5rem;margin: 0 2rem 2rem 2rem; background-color: var(--aux-purple); border-radius: 0.7rem; font-weight: 600; cursor: pointer; color: var(--default-text-color);" class="action-btn">IN\xcdCIO</button>\n    </div>`);const i=document.getElementById("action-btn");i&&i.addEventListener("click",()=>{this.route.navigate(["/info"])}),this.storeResultResponse()}handleSpaceKey(e){const t=document.getElementsByClassName("triangulo")[0]?document.getElementsByClassName("triangulo")[0]:null;"Space"===e.code&&t&&("triangulo"===t.id?this.objectDataExam.actionHit++:this.objectDataExam.actionError++,t.remove())}handleClick(e){const t=document.getElementsByClassName("triangulo")[0]?document.getElementsByClassName("triangulo")[0]:null;0==e.button&&t&&("triangulo"===t.id?this.objectDataExam.actionHit++:this.objectDataExam.actionError++,t.remove())}redirectInfo(){this.route.navigate(["/info"])}storeResultResponse(){this.data.setResultResponse(sessionStorage.getItem("id"),this.objectDataExam).subscribe(e=>{console.log(e)})}validExecution(){this.data.getValidExecutation(this.todayDate,sessionStorage.getItem("id")).subscribe(e=>{if("denied"===e.status){this.responseText=this.resultObject[3].responseText,this.responseImage=this.resultObject[3].responseImage;const t=document.getElementById("stage");t&&(t.innerHTML=this.currentWidth>600?`<div style="height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; gap: 1rem;">\n            <h2 style="color: white">${this.responseText}</h2>\n            <img style="width: 19rem" src="${this.responseImage}" alt="">\n            <button id='action-btn' style="border: none; padding: 1rem 3.5rem;margin: 0 2rem 2rem 2rem; background-color: var(--aux-purple); border-radius: 0.7rem; font-weight: 600; cursor: pointer; color: var(--default-text-color);" class="action-btn">IN\xcdCIO</button>\n          </div>`:`<div style="height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; gap: 1rem;">\n            <h3 style="color: white; text-align: center;">${this.responseText}</h3>\n            <img style="width: 15rem" src="${this.responseImage}" alt="">\n            <button id='action-btn' style="border: none; padding: 1rem 3.5rem;margin: 0 2rem 2rem 2rem; background-color: var(--aux-purple); border-radius: 0.7rem; font-weight: 600; cursor: pointer; color: var(--default-text-color);" class="action-btn">IN\xcdCIO</button>\n          </div>`);const i=document.getElementById("action-btn");i&&i.addEventListener("click",()=>{this.route.navigate(["/info"])})}else{const t=sessionStorage.getItem("current-object");t&&(this.currentObject=JSON.parse(t)),this.createObjects=setInterval(()=>{this.countObjects<=this.totalObjects?this.randomObjectCreate():(clearInterval(this.createObjects),this.score())},800)}})}ngOnInit(){this.resize(),this.validExecution()}ngOnDestroy(){clearInterval(this.createObjects)}static#t=this.\u0275fac=function(t){return new(t||s)(o.Y36(c.F0),o.Y36(u.M))};static#e=this.\u0275cmp=o.Xpm({type:s,selectors:[["app-exame"]],hostBindings:function(t,i){1&t&&o.NdJ("keydown.space",function(n){return i.handleSpaceKey(n)},!1,o.evT)("click",function(n){return i.handleClick(n)},!1,o.evT)},decls:2,vars:0,consts:[[1,"main-container"],["id","stage",1,"exam-container"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0),o._UZ(1,"div",1),o.qZA())},styles:[".main-container[_ngcontent-%COMP%]{width:100vw;height:100vh;background-color:var(--background-color);display:flex;align-items:center;justify-content:center}.exam-container[_ngcontent-%COMP%]{width:100%;height:90%}.result-styles[_ngcontent-%COMP%]{display:grid;place-items:center}.response-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1rem}.action-btn[_ngcontent-%COMP%]{border:none;padding:1rem 3.5rem;margin:0 2rem 2rem;background-color:var(--btn-default-color);border-radius:.7rem;font-weight:600;cursor:pointer;color:var(--aux-purple)}.action-btn[_ngcontent-%COMP%]:hover{background-color:var(--btn-default-hover);color:var(--default-text-color)}"]})}return s})()}];let p=(()=>{class s{static#t=this.\u0275fac=function(t){return new(t||s)};static#e=this.\u0275mod=o.oAB({type:s});static#s=this.\u0275inj=o.cJS({imports:[c.Bz.forChild(g),c.Bz]})}return s})(),b=(()=>{class s{static#t=this.\u0275fac=function(t){return new(t||s)};static#e=this.\u0275mod=o.oAB({type:s});static#s=this.\u0275inj=o.cJS({imports:[m.ez,p]})}return s})()}}]);