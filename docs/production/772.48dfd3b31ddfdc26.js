"use strict";(self.webpackChunkprojectfocus=self.webpackChunkprojectfocus||[]).push([[772],{8772:(C,u,c)=>{c.r(u),c.d(u,{InfoModule:()=>x});var p=c(6814),g=c(9310),t=c(4946),f=c(6466),b=c(9862);let m=(()=>{class s{constructor(e){this.http=e,this.apiGetUser="https://backofficecheck.com.br/focus/php/user-data.php",this.apiGetResult="https://backofficecheck.com.br/focus/php/valid-exec.php",this.apiSet="https://backofficecheck.com.br/focus/php/set-result.php"}getUserData(e){return this.http.post(this.apiGetUser,{token:e})}setResultResponse(e,n){const o=new Date,r=o.getDate().toString().padStart(2,"0"),i=(o.getMonth()+1).toString().padStart(2,"0"),a=o.getFullYear();return this.http.post(this.apiSet,{id_user:e,result:n,today_date:r+"/"+i+"/"+a})}getValidExecutation(e,n){return this.http.post(this.apiGetResult,{id_user:n,today_date:e})}static#t=this.\u0275fac=function(n){return new(n||s)(t.LFG(b.eN))};static#e=this.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function O(s,w){if(1&s){const e=t.EpF();t.TgZ(0,"ul",15)(1,"li",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.logout())}),t._uU(2,"Sair"),t.qZA()()}}const v=[{path:"",component:(()=>{class s{constructor(e,n,o){this.route=e,this.auth=n,this.data=o,this.username="",this.fill=["/triangulo_vazado.png","/triangulo.png"],this.rotate=["rotate(0deg)","rotate(90deg)","rotate(180deg)","rotate(270deg)"],this.currentObject={fill:this.fill[Math.floor(Math.random()*this.fill.length)],rotate:this.rotate[Math.floor(Math.random()*this.rotate.length)]},this.dropdownVisible=!1}logout(){this.auth.logout(),this.route.navigate(["/login"])}showDropDown(){this.dropdownVisible=!this.dropdownVisible}redirectExam(){window.location.href="/focus/docs/production/index.html#/info/exame"}generateCurrentObject(){const e=document.getElementById("random-img");sessionStorage.setItem("current-object",JSON.stringify(this.currentObject)),e.src="./assets/"+this.currentObject.fill,e.style.transform=this.currentObject.rotate}getUserData(){const e=sessionStorage.getItem("access-token");e&&this.data.getUserData(e).subscribe(o=>{const r=o.data;if(r){const i=r.name.split(" ");this.username=i[0]+" "+i[i.length-1]}})}ngOnInit(){this.generateCurrentObject(),this.getUserData()}static#t=this.\u0275fac=function(n){return new(n||s)(t.Y36(g.F0),t.Y36(f.e),t.Y36(m))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-info"]],decls:29,vars:2,consts:[[1,"main-container"],[1,"header"],["src","./assets/vale-logo-preto.png","alt",""],["src","./assets/focus_name.png","alt",""],[1,"action"],["src","./assets/user.png","alt","",3,"click"],["id","user-info","class","dropdown",4,"ngIf"],[1,"info-container"],[1,"info"],[1,"gif-content"],["src","./assets/action.gif","alt",""],[1,"img-container"],["id","random-img","src","./assets/triangulo_vazado.png","alt",""],[1,"footer"],[3,"click"],["id","user-info",1,"dropdown"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"img",2)(3,"img",3),t.TgZ(4,"div",4)(5,"img",5),t.NdJ("click",function(){return o.showDropDown()}),t.qZA(),t.YNc(6,O,3,0,"ul",6),t.qZA()(),t.TgZ(7,"div",7)(8,"div",8)(9,"h1"),t._uU(10),t.qZA(),t.TgZ(11,"p"),t._uU(12,"O teste psicol\xf3gico foi criado para medir sua aten\xe7\xe3o, para realiz\xe1-lo, leia as instru\xe7\xf5es abaixo. Boa sorte!"),t.qZA(),t.TgZ(13,"div",9),t._UZ(14,"img",10),t.qZA(),t.TgZ(15,"p"),t._uU(16,"Clique na "),t.TgZ(17,"span"),t._uU(18,"barra de espa\xe7o"),t.qZA(),t._uU(19," do teclado, toda vez que "),t.TgZ(20,"span"),t._uU(21,"a imagem correta aparecer."),t.qZA()()(),t.TgZ(22,"div",11)(23,"span"),t._uU(24,"Figura Correta:"),t.qZA(),t._UZ(25,"img",12),t.qZA()(),t.TgZ(26,"div",13)(27,"button",14),t.NdJ("click",function(){return o.redirectExam()}),t._uU(28,"INICIAR"),t.qZA()()()),2&n&&(t.xp6(6),t.Q6J("ngIf",o.dropdownVisible),t.xp6(4),t.hij("Bem-vindo, ",o.username,""))},dependencies:[p.O5],styles:[".main-container[_ngcontent-%COMP%]{width:100vw;height:100vh;display:grid;grid-template-rows:.1fr 1fr .1fr;place-items:center}.header[_ngcontent-%COMP%]{width:100%;padding:1rem 2rem;display:flex;justify-content:space-between}.header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5rem}.header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:nth-child(2){width:6rem}.action[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.5rem;cursor:pointer}.dropdown[_ngcontent-%COMP%]{list-style-type:none;position:absolute;top:3rem;right:1.5rem}.dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:.5rem 2rem;background-color:#bbbcc2;border-radius:.2rem}.dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:var(--background-color);color:var(--default-text-color)}.info-container[_ngcontent-%COMP%]{width:90%;height:100%;display:grid;grid-template-columns:60% 40%}.info[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem 5rem 0 0;gap:1rem}.info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:var(--aux-purple)}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{font-size:1.5rem}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child   span[_ngcontent-%COMP%]{font-weight:700;color:var(--aux-purple-secondary)}.gif-content[_ngcontent-%COMP%]{display:flex;justify-content:center}.gif-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20rem;height:13rem}.img-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.img-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:17rem}.footer[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:flex-start}.footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;padding:1rem 3.5rem;margin:0 2rem 2rem;background-color:var(--btn-default-color);border-radius:.7rem;font-weight:600;cursor:pointer;color:var(--aux-purple)}.footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--btn-default-hover);color:var(--default-text-color)}"]})}return s})(),children:[{path:"exame",component:(()=>{class s{constructor(e,n){this.route=e,this.data=n,this.height=0,this.width=0,this.actionHit=0,this.omissionHit=0,this.totalObjects=60,this.countObjects=0,this.currentObject="",this.responseText="",this.responseImage="",this.resultResponse=0,this.idUser=1,this.validate=!0,this.currentDate=new Date,this.day=this.currentDate.getDate().toString().padStart(2,"0"),this.month=(this.currentDate.getMonth()+1).toString().padStart(2,"0"),this.year=this.currentDate.getFullYear(),this.todayDate=this.day+"/"+this.month+"/"+this.year,this.resultObject=[{responseText:"Voc\xea est\xe1 liberado para suas atividades!",responseImage:"./assets/colaboradores.png"},{responseText:"Execu\xe7\xe3o incorreta, gentileza procurar seu supervisor!",responseImage:"./assets/supervisor.png"},{responseText:"Execu\xe7\xe3o n\xe3o foi como esperada, gentileza procurar medicina!",responseImage:"./assets/medico.png"},{responseText:"Voc\xea j\xe1 esgotou o n\xfamero de tentativas hoje!",responseImage:"./assets/erro.png"}]}resizeStage(){this.height=window.innerHeight,this.width=window.innerWidth}randomObjectCreate(){console.log("Execu\xe7\xe3o");var e=document.getElementsByTagName("img"),n=document.getElementById("stage");if(e.length>0&&("triangulo"!=e[0].id&&(this.omissionHit++,console.log(this.omissionHit)),n?.removeChild(e[0])),this.countObjects<this.totalObjects){let o=Math.floor(Math.random()*this.width)-90,r=Math.floor(Math.random()*this.height)-90;o=o<0?0:o,r=r<0?0:r;const i=document.createElement("img"),a=["rotate(0deg)","rotate(90deg)","rotate(180deg)","rotate(270deg)"],l=a[Math.floor(Math.random()*a.length)],d=["/triangulo_vazado.png","/triangulo.png"],h=Math.floor(2*Math.random());i.src="./assets"+d[h],i.style.transform=l,d[h]==this.currentObject.fill&&l==this.currentObject.rotate&&(i.id="triangulo"),i.classList.add("triangulo1"),i.style.width="50px",i.style.height="50px",i.style.position="absolute",i.style.left=o+"px",i.style.top=r+"px",console.log(d[h]+" "+this.currentObject.fill+" "+l+" "+this.currentObject.rotate),n?.appendChild(i)}this.countObjects++}score(){const e=(this.actionHit+this.omissionHit)/this.totalObjects*100;switch(console.log(this.actionHit+" "+this.omissionHit+" "+e),this.resultResponse=e,!0){case e>=70:this.responseText=this.resultObject[0].responseText,this.responseImage=this.resultObject[0].responseImage;break;case e>=50:this.responseText=this.resultObject[1].responseText,this.responseImage=this.resultObject[1].responseImage;break;default:this.responseText=this.resultObject[2].responseText,this.responseImage=this.resultObject[2].responseImage}const n=document.getElementById("stage");n&&(n.innerHTML=`<div style="height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; gap: 1rem;">\n       <h2 style="color: white">${this.responseText}</h2>\n       <img style="width: 19rem" src="${this.responseImage}" alt="">\n       <button id='action-btn' style="border: none; padding: 1rem 3.5rem;margin: 0 2rem 2rem 2rem; background-color: var(--aux-purple); border-radius: 0.7rem; font-weight: 600; cursor: pointer; color: var(--default-text-color);" class="action-btn">IN\xcdCIO</button>\n    </div>`);const o=document.getElementById("action-btn");o&&o.addEventListener("click",()=>{this.route.navigate(["/info"])}),this.storeResultResponse(e)}handleSpaceKey(e){const n=document.getElementsByTagName("img")[0]?document.getElementsByTagName("img")[0]:null;"Space"===e.code&&n&&("triangulo"===n.id&&this.actionHit++,n.remove())}redirectInfo(){this.route.navigate(["/info"])}storeResultResponse(e){this.data.setResultResponse(this.idUser,e).subscribe(n=>{console.log(n)})}validExecution(){const e=sessionStorage.getItem("access-token");e&&this.data.getUserData(e).subscribe(n=>{const o=n.data;o&&this.data.getValidExecutation(this.todayDate,o.sub).subscribe(r=>{if("denied"===r.status){this.responseText=this.resultObject[3].responseText,this.responseImage=this.resultObject[3].responseImage;const i=document.getElementById("stage");i&&(i.innerHTML=`<div style="height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; gap: 1rem;">\n                        <h2 style="color: white">${this.responseText}</h2>\n                        <img style="width: 19rem" src="${this.responseImage}" alt="">\n                        <button id='action-btn' style="border: none; padding: 1rem 3.5rem;margin: 0 2rem 2rem 2rem; background-color: var(--aux-purple); border-radius: 0.7rem; font-weight: 600; cursor: pointer; color: var(--default-text-color);" class="action-btn">IN\xcdCIO</button>\n                      </div>`);const a=document.getElementById("action-btn");a&&a.addEventListener("click",()=>{this.route.navigate(["/info"])})}else{const i=sessionStorage.getItem("current-object");i&&(this.currentObject=JSON.parse(i)),this.createObjects=setInterval(()=>{this.countObjects<=this.totalObjects?this.randomObjectCreate():(clearInterval(this.createObjects),this.score())},800)}})})}ngOnInit(){this.resizeStage(),this.validExecution()}ngOnDestroy(){clearInterval(this.createObjects)}static#t=this.\u0275fac=function(n){return new(n||s)(t.Y36(g.F0),t.Y36(m))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-exame"]],hostBindings:function(n,o){1&n&&t.NdJ("keydown.space",function(i){return o.handleSpaceKey(i)},!1,t.evT)},decls:1,vars:0,consts:[["id","stage",1,"main-container"]],template:function(n,o){1&n&&t._UZ(0,"div",0)},styles:[".main-container[_ngcontent-%COMP%]{width:100vw;height:100vh;background-color:var(--background-color)}.result-styles[_ngcontent-%COMP%]{display:grid;place-items:center}.response-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1rem}.action-btn[_ngcontent-%COMP%]{border:none;padding:1rem 3.5rem;margin:0 2rem 2rem;background-color:var(--btn-default-color);border-radius:.7rem;font-weight:600;cursor:pointer;color:var(--aux-purple)}.action-btn[_ngcontent-%COMP%]:hover{background-color:var(--btn-default-hover);color:var(--default-text-color)}"]})}return s})()}]}];let y=(()=>{class s{static#t=this.\u0275fac=function(n){return new(n||s)};static#e=this.\u0275mod=t.oAB({type:s});static#n=this.\u0275inj=t.cJS({imports:[g.Bz.forChild(v),g.Bz]})}return s})(),x=(()=>{class s{static#t=this.\u0275fac=function(n){return new(n||s)};static#e=this.\u0275mod=t.oAB({type:s});static#n=this.\u0275inj=t.cJS({imports:[p.ez,y]})}return s})()}}]);